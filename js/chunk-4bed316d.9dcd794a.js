(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bed316d"],{"0084":function(t,e,a){"use strict";function i(){var t=JSON.parse(localStorage.getItem("URL")),e="192.168.2.149",a="quantaxis.tech",i="192.168.2.117",r="192.168.2.124",o="quantaxis.tech",s=t&&t.accURL?t.accURL:"http://".concat(e,":10115"),n=t&&t.pnlURL?t.pnlURL:"http://".concat(e,":8028"),l=t&&t.listURL?t.listURL:"http://".concat(i,":8020"),c=t&&t.wsURL?t.wsURL:"ws://".concat(e,":10115/ws/"),h=t&&t.selectedURL?t.selectedURL:"http://".concat(a,":8022"),u=t&&t.indicatorURL?t.indicatorURL:"http://".concat(e,":8030"),d=t&&t.backtestURL?t.backtestURL:"http://192.168.2.117:8010",f=t&&t.innerURL?t.innerURL:"http://".concat(r,":8028"),p=t&&t.financialURL?t.financialURL:"http://".concat(o,":8018"),b=t&&t.groupURL?t.groupURL:"http://".concat(o,":8018"),m=t&&t.orderURL?t.orderURL:"http://".concat(o,":8018"),g=t&&t.klineURL?t.klineURL:"http://".concat(e,":8029"),v=t&&t.cashURL?t.cashURL:"http://".concat(o,":8020"),R=t&&t.backtestqifiURL?t.backtestqifiURL:"http://".concat(r,":8019"),w=t&&t.varietiesURL?t.varietiesURL:"http://".concat(o,":8018"),L=t&&t.strategyURL?t.strategyURL:"http://192.168.2.125:8800";return{accURL:s,pnlURL:n,listURL:l,wsURL:c,selectedURL:h,indicatorURL:u,backtestURL:d,innerURL:f,financialURL:p,groupURL:b,orderURL:m,klineURL:g,cashURL:v,backtestqifiURL:R,varietiesURL:w,strategyURL:L}}a.d(e,"a",(function(){return i}))},"1c35":function(t,e,a){},"4a6b":function(t,e,a){"use strict";var i=a("1c35"),r=a.n(i);r.a},eaea:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("d2-container",[a("div",{ref:"instruct",staticClass:"instruct"},[a("div",{staticClass:"left card"},[a("vxe-table",{style:{width:t.tableWidth},attrs:{border:"","show-header-overflow":"","show-overflow":"","highlight-hover-row":"","auto-resize":"",data:t.leftData,height:t.leftTableHeight},on:{"cell-click":t.leftTableClick}},[a("vxe-table-column",{attrs:{type:"seq",title:"序号",width:"60"}}),a("vxe-table-column",{attrs:{field:"topic",title:"事件",width:"100"}}),a("vxe-table-column",{attrs:{field:"body",title:"消息"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.body))])]}}])}),a("vxe-table-column",{attrs:{field:"remarks",title:"备注",width:"100"}}),a("vxe-table-column",{attrs:{field:"datetime",title:"时间",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("format")(e.row.datetime)))])]}}])})],1)],1),a("div",{staticClass:"right card"},[a("div",{staticClass:"right-top"},[a("vxe-table",{style:{width:t.tableWidth},attrs:{border:"","show-header-overflow":"","show-overflow":"","auto-resize":"","highlight-hover-row":"",data:t.ackData,height:t.rightHeight,"sort-config":{trigger:"cell"}}},[a("vxe-table-column",{attrs:{field:"ack",title:"ack"}}),a("vxe-table-column",{attrs:{field:"answerer",title:"应答者",width:"150px"}}),a("vxe-table-column",{attrs:{field:"status",title:"状态",width:"80px",sortable:""}}),a("vxe-table-column",{attrs:{field:"datetime",title:"时间",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("format")(e.row.datetime)))])]}}])})],1)],1),a("div",{staticClass:"right-bottom"},[a("vxe-table",{style:{width:t.tableWidth},attrs:{border:"","show-header-overflow":"","show-overflow":"","highlight-hover-row":"","auto-resize":"",data:t.notackData,height:t.rightHeight,"sort-config":{trigger:"cell"}}},[a("vxe-table-column",{attrs:{field:"answerer",title:"无应答者"}})],1)],1)]),a("el-button",{staticClass:"sendBtn",attrs:{type:"info",icon:"el-icon-thumb",circle:""},on:{click:function(e){t.dialogVisible=!0}}}),a("el-dialog",{attrs:{title:"发送指令",visible:t.dialogVisible,width:"20%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"50px"}},[a("el-form-item",{attrs:{label:"事件"}},[a("el-select",{attrs:{placeholder:"事件"},on:{change:t.selectTopic},model:{value:t.form.topic,callback:function(e){t.$set(t.form,"topic",e)},expression:"form.topic"}},t._l(t.topicOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"目标"}},[a("el-select",{attrs:{multiple:"",filterable:"",placeholder:"目标"},model:{value:t.form.target,callback:function(e){t.$set(t.form,"target",e)},expression:"form.target"}},t._l(t.targetOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{model:{value:t.form.remarks,callback:function(e){t.$set(t.form,"remarks",e)},expression:"form.remarks"}})],1),t._l(t.body,(function(e,i){return a("el-form-item",{key:i,attrs:{label:e.name}},[a("el-input",{model:{value:t.form["body"][e.key],callback:function(a){t.$set(t.form["body"],e.key,a)},expression:"form['body'][item.key]"}})],1)}))],2),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.send}},[t._v("确 定")])],1)],1)],1)])},r=[],o=(a("d3b7"),a("96cf"),a("0084")),s=a("6e85"),n=a.n(s),l={name:"instruct",data:function(){return{URL:"http://192.168.2.121:8800",dialogVisible:!1,leftData:[],ackData:[],notackData:[],rightHeight:300,leftTableHeight:600,tableWidth:"100%",form:{topic:"",target:"",remarks:"",body:{}},topicOptions:[{label:"settle",value:"settle"},{label:"clock",value:"clock"},{label:"send_order",value:"send_order"}],targetOptions:[],allBody:{},body:[]}},mounted:function(){this.URL=Object(o["a"])().strategyURL,this.getBody(),this.getData(),this.monitor()},filters:{format:function(t){return n()(t).format("YYYY-MM-DD HH:mm:ss")}},methods:{monitor:function(){var t=this;this.$erd.listenTo(this.$refs.instruct,(function(e){var a=e.offsetWidth,i=e.offsetHeight;t.leftTableHeight=i-10,t.rightHeight=(i-20)/2,t.tableWidth=(a-25)/2+"px"}))},leftTableClick:function(t){var e=t.row;this.getAckData(e.id)},selectTopic:function(){this.body=this.allBody[this.form.topic];var t={};for(var e in this.body)t[this.body[e]["key"]]=this.body[e]["default"];this.$set(this.form,"body",t)},getData:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.$http.get(this.URL+"/instruct"));case 2:t=e.sent,this.leftData=t;case 4:case"end":return e.stop()}}),null,this)},getAckData:function(t){var e;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(this.$http.get(this.URL+"/ack",{params:{id:t}}));case 2:e=a.sent,this.ackData=e.ack,this.notackData=e.notack;case 5:case"end":return a.stop()}}),null,this)},getBody:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.$http.get(this.URL+"/send_instruct"));case 2:t=e.sent,this.targetOptions=t.target,this.topicOptions=t.topic,this.allBody=t.body;case 6:case"end":return e.stop()}}),null,this)},send:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return this.form.body=JSON.stringify(this.form.body),e.next=3,regeneratorRuntime.awrap(this.$http.post(this.URL+"/send_instruct",this.form));case 3:t=e.sent,this.$message({message:t,type:"success"}),this.dialogVisible=!1,this.form={topic:"",target:"",remarks:"",body:{}},this.body=[],this.getData();case 9:case"end":return e.stop()}}),null,this)}}},c=l,h=(a("4a6b"),a("2877")),u=Object(h["a"])(c,i,r,!1,null,null,null);e["default"]=u.exports}}]);