(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-584529b4"],{1247:function(t,e,a){},"1f09":function(t,e,a){},"83f4":function(t,e,a){"use strict";var n=a("1f09"),i=a.n(n);i.a},b740:function(t,e,a){},bee2:function(t,e,a){"use strict";function n(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,a){return e&&n(t.prototype,e),a&&n(t,a),t}a.d(e,"a",(function(){return i}))},c979:function(t,e,a){"use strict";var n=a("b740"),i=a.n(n);i.a},d4ec:function(t,e,a){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}a.d(e,"a",(function(){return n}))},e4e4:function(t,e,a){"use strict";a("99af");var n=a("2909"),i=a("d4ec"),r=a("bee2"),o={buy:"",sell:""};a.d(e,"a",(function(){return s}));var s=function(){function t(e){Object(i["a"])(this,t),this.data=e,this.type=e.type}return Object(r["a"])(t,[{key:"judge",value:function(){switch(this.type){case"dot":return this.drawDot();case"text":return this.drawText();case"line":return this.drawLine();case"polygon":return this.drawPolygon()}}},{key:"drawDot",value:function(){var t=this.data.data;for(var e in t)t[e].Symbol=o[t[e].Symbol];var a={name:"MULTI_SVGICON",type:1,Draw:{DrawType:"MULTI_SVGICON",DrawData:{Family:"qa",Icon:t}}};return a}},{key:"drawText",value:function(){var t={name:"MULTI_TEXT",type:1,Draw:{DrawType:"MULTI_TEXT",DrawData:this.data.data}};return t}},{key:"drawLine",value:function(){var t={name:"MULTI_LINE",type:1,Draw:{DrawType:"MULTI_LINE",DrawData:[]}};for(var e in this.data.data)t.Draw.DrawData.push(this.data.data[e]);return t}},{key:"drawPolygon",value:function(){var t=this.data.data;for(var e in t)t[e]["Point"]=[].concat(Object(n["a"])(t[e]["Point"]),[t[e]["Point"][0]]);var a={name:"MULTI_LINE",type:1,Draw:{DrawType:"MULTI_LINE",DrawData:[]}};for(var i in t)a.Draw.DrawData.push(t[i]);return a}}]),t}()},f094:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"kline",attrs:{id:"kline"}})},i=[],r=(a("99af"),a("c740"),a("a9e3"),a("7510")),o=a.n(r),s=a("e4e4"),u=(a("9f63"),a("1247"),{props:["chartSize"],data:function(){return{hold_gap:"",jumpTime:"",URL:"",klineData:[],isRequest:!0,QAindex:"",frequence:"",Symbol:"600000.sh",KLine:{JSChart:null,Option:{Type:"历史K线图",Windows:[{Index:"成交打点",API:{Name:"成交打点",Script:null,Args:null}},{Index:"MA"},{Index:"VOL"}],OverlayIndex:[],IsShowCorssCursorInfo:!0,Border:{Left:1,Right:1,Top:25,Bottom:25},IsShowRightMenu:!0,KLine:{DragMode:1,Right:1,Period:0,MaxReqeustDataCount:1e3,MaxRequestMinuteDayCount:10,PageSize:50,IsShowTooltip:!0,DrawType:0,KLineDoubleClick:!1,RightSpaceCount:5,ZoomType:1},ExtendChart:[{Name:"KLineTooltip"},{Name:"背景图",FrameID:0}],NetworkFilter:this.networkFilter}}}},mounted:function(){},methods:{OnSize:function(t,e){var a="",n="";t?(a=e,n=t):(a=this.chartSize.height,n=this.chartSize.width);var i=this.$refs.kline;i.style.width=n+"px",i.style.height=a+"px",this.KLine.JSChart&&this.KLine.JSChart.OnSize()},CreateKLineChart:function(){if(!this.KLine.JSChart){this.KLine.Option.Symbol=this.Symbol;var t=o.a.Chart.JSChart.GetResource();t.KLine.Info.IconLibrary={Family:"qa",Icon:[{Text:"",HScreenText:"",Color:"#f39f7c"},{Text:"",HScreenText:"",Color:"#19b1b7"}]};var e=o.a.Chart.JSChart.Init(this.$refs.kline);e.SetOption(this.KLine.Option),this.KLine.JSChart=e}},networkFilter:function(t,e){var a=this;switch(t.PreventDefault=!0,this.isRequest&&(this.$http.get(this.URL).then((function(t){var n=t.result;a.klineData=n.kline.data,e(n.kline)})),this.isRequest=!1),t.Name){case"APIScriptIndex::ExecuteScript":this.APIScriptIndex(t,e);break;case"AnnouncementInfo::RequestData":break}},APIScriptIndex:function(t,e){var a=t.Request,n=t.HQChart,i=n.ChartPaint[0].Data;if("成交打点"===a.Data.indexname){var r=JSON.parse(sessionStorage.getItem("draw")),o=this.getBGChartPaint(),u=[];for(var h in r)"area"!==r[h].type?u.push(new s["a"](r[h]).judge()):o&&(o.Data=r[h].data);var c={code:0,stock:{name:n.Name,symbol:n.Symbol},outdata:{date:i.GetDate(),outvar:[].concat(u)}};t.PreventDefault=!0,e(c)}this.changeFirstShowDate()},AnnouncementInfo:function(t,e){t.PreventDefault=!0;var a=[{releasedate:20200305,title:"20200305扩展类型公告1",typeex:[0]},{releasedate:20200323,title:"20200323扩展类型公告2",typeex:[1]}];setTimeout((function(){var t={report:a,code:0};e(t)}),200)},recreate:function(){this.isRequest=!0,this.KLine.JSChart&&(this.KLine.JSChart.StopAutoUpdate(),this.KLine.JSChart=null),this.clearDivDOM(),this.OnSize(),this.CreateKLineChart()},clearDivDOM:function(){while(this.$refs.kline.hasChildNodes())this.$refs.kline.removeChild(this.$refs.kline.lastChild)},getBGChartPaint:function(){for(var t in this.KLine.JSChart.JSChartContainer.ExtendChartPaint){var e=this.KLine.JSChart.JSChartContainer.ExtendChartPaint[t];if("BackgroundPaint"===e.ClassName)return e}return null},setPageSize:function(){var t=JSON.parse(sessionStorage.getItem("draw")),e=Number(t[0].data[0].Date),a=Number(t[0].data[0].Time),n=Number(t[0].data[1].Date),i=Number(t[0].data[1].Time),r=this.klineData.findIndex((function(t){return t[0]===e&&t[8]===a})),o=this.klineData.findIndex((function(t){return t[0]===n&&t[8]===i})),s=Math.abs(o-r),u=r-25<1?1:r-25,h=this.klineData[u][0],c=this.klineData[u][8];return s=s<50?50:s,{PageSize:s,jumpDate:h,jumpTime:c}},changeFirstShowDate:function(){if(this.KLine.JSChart){var t=this.setPageSize(),e=t.PageSize,a=t.jumpDate,n=t.jumpTime;this.KLine.JSChart.SetFirstShowDate({Date:a,Time:n,PageSize:e+50})}}}}),h=u,c=(a("83f4"),a("c979"),a("2877")),l=Object(c["a"])(h,n,i,!1,null,"c4389626",null);e["default"]=l.exports}}]);