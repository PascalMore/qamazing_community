(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a4dc675","chunk-2d212ef9"],{"4c53":function(t,i,e){"use strict";var o=e("23e7"),a=e("857a"),c=e("eae9");o({target:"String",proto:!0,forced:c("sub")},{sub:function(){return a(this,"sub","","")}})},"558b":function(t,i,e){"use strict";var o=e("fd6b"),a=e.n(o);a.a},"5e89":function(t,i,e){var o=e("861d"),a=Math.floor;t.exports=function(t){return!o(t)&&isFinite(t)&&a(t)===t}},"857a":function(t,i,e){var o=e("1d80"),a=/"/g;t.exports=function(t,i,e,c){var n=String(o(t)),s="<"+i;return""!==e&&(s+=" "+e+'="'+String(c).replace(a,"&quot;")+'"'),s+">"+n+"</"+i+">"}},"8ba4":function(t,i,e){var o=e("23e7"),a=e("5e89");o({target:"Number",stat:!0},{isInteger:a})},"8da1":function(t,i,e){"use strict";e.r(i);var o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("d2-container",{attrs:{type:"full"}},[e("div",{ref:"accountContainerDom",staticClass:"account-container"},[e("div",{ref:"analysis",staticClass:"analysis"},[e("el-card",{staticClass:"box-card"},[e("table",{staticClass:"tableHeader"},[e("tr",{staticClass:"fixTh"},[e("th",[e("p",{staticStyle:{"text-align":"center"}},[t._v(" 账户 "),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"刷新",placement:"right-start"}},[e("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:t.refresh}})],1)],1),e("el-input",{attrs:{placeholder:"请输入内容"},on:{input:t.searchAccountData},model:{value:t.searchValue,callback:function(i){t.searchValue="string"===typeof i?i.trim():i},expression:"searchValue"}})],1)])]),e("div",{staticClass:"account-tab",style:{height:t.accountTableHeight}},[e("vue-scroll",{staticClass:"tab1",attrs:{ops:t.ops}},[e("table",t._l(t.searchData,(function(i,o){return e("tr",{key:o},[e("td",{class:t.accountTabCurrent===o?"active":"",on:{click:function(e){return t.selectAccount(o,i)}}},[t._v(t._s(i))])])})),0)])],1),e("div",{staticClass:"page"},[e("el-pagination",{attrs:{small:"","current-page":t.currentPage,"page-size":t.pageSize,layout:"prev, pager, next",total:t.total,"pager-count":5},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(i){t.currentPage=i},"update:current-page":function(i){t.currentPage=i}}})],1)]),e("div",{staticClass:"accountInfo",style:t.accountInfoHeight},[e("el-card",[e("table",{staticClass:"accountInfoTab"},t._l(t.accountInfo,(function(i,o){return e("tr",{key:o,style:{display:"date"===o?"none":""}},[e("td",[t._v(t._s(t.accountInfoName[o]))]),e("td",[t._v(t._s(t._f("splitNum")(i)))])])})),0)])],1)],1),e("div",{staticClass:"chart"},[e("el-card",{staticClass:"chartCard"},[e("div",{ref:"chartBox",staticClass:"tabCardContent",attrs:{id:"chartBox"}},[t.show?e("trend-chart",{ref:"trendChart",attrs:{chartSize:t.chartSize,wsChartData:t.wsChartData}}):t._e()],1)]),e("el-card",{staticClass:"profitAndLossCard"},[e("cash-chart",{ref:"cashChart"})],1)],1),e("div",{ref:"detail",staticClass:"detail"},[e("div",{staticClass:"info card"},[e("span",[t._v(t._s(t.accountInfo.user_id))]),e("span",{class:t.accountInfo.close_profit+t.accountInfo.float_profit-t.accountInfo.commission>0?"profit":t.accountInfo.close_profit+t.accountInfo.float_profit-t.accountInfo.commission===0?"":"loss"},[t._v(t._s(t._f("toFixed")(t.accountInfo.close_profit+t.accountInfo.float_profit-t.accountInfo.commission)))])]),e("div",{staticClass:"switchContent card"},[e("vxe-table",{staticStyle:{width:"585px"},attrs:{data:t.trade,"show-overflow":"",resizable:"",border:"",round:"","highlight-current-row":"","keyboard-config":{isArrow:!0},"auto-resize":"",height:t.detailTabHeight,"row-style":t.rowStyle,"sort-config":{trigger:"cell",defaultSort:{field:"trade_date_time",order:"desc"}}},on:{"cell-click":t.detailRowClick},scopedSlots:t._u([{key:"empty",fn:function(){return[e("span",[e("img",{attrs:{src:"https://xuliangzhan_admin.gitee.io/vxe-table/static/other/img2.gif"}}),e("p",[t._v("不是吧！这就没数据了")])])]},proxy:!0}])},[e("vxe-table-column",{attrs:{field:"instrument_id",title:"合约","min-width":"14%",sortable:""}}),e("vxe-table-column",{attrs:{field:"direction",title:"买卖","min-width":"10%"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("span",[t._v(t._s(t._f("format")(i.row.direction)))])]}}])}),e("vxe-table-column",{attrs:{field:"offset",title:"开平","min-width":"12%"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("span",[t._v(t._s(t._f("format")(i.row.offset)))])]}}])}),e("vxe-table-column",{attrs:{field:"price",title:"成交价格",sortable:"","min-width":"18%"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("span",[t._v(t._s(t._f("toFixed")(i.row.price)))])]}}])}),e("vxe-table-column",{attrs:{field:"volume",title:"手数","min-width":"9%"}}),e("vxe-table-column",{attrs:{field:"commission",title:"手续费","min-width":"11%"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("span",[t._v(t._s(t._f("toFixed")(i.row.commission)))])]}}])}),e("vxe-table-column",{attrs:{field:"trade_date_time",title:"成交时间",sortable:"","min-width":"26%"}})],1)],1),e("div",{staticClass:"positionContent card"},[e("vxe-table",{staticStyle:{width:"585px"},attrs:{data:t.positions,"show-overflow":"",resizable:"",border:"",round:"","highlight-current-row":"","keyboard-config":{isArrow:!0},"auto-resize":"",height:t.detailTabHeight,"row-style":t.rowStyle1,"sort-config":{trigger:"cell",defaultSort:{field:"instrument_id",order:"asc"}}},on:{"cell-click":t.detailPositionsRowClick},scopedSlots:t._u([{key:"empty",fn:function(){return[e("span",[e("img",{attrs:{src:"https://xuliangzhan_admin.gitee.io/vxe-table/static/other/img2.gif"}}),e("p",[t._v("不是吧！这就没数据了")])])]},proxy:!0}])},[e("vxe-table-column",{attrs:{field:"instrument_id",title:"合约","min-width":"10%",sortable:""}}),e("vxe-table-column",{attrs:{field:"volume_long",title:"多头持仓","min-width":"13%",sortable:""}}),e("vxe-table-column",{attrs:{field:"volume_short",title:"空头持仓","min-width":"13%",sortable:""}}),e("vxe-table-column",{attrs:{field:"position_profit",title:"持仓盈亏","min-width":"13%",sortable:""},scopedSlots:t._u([{key:"default",fn:function(i){return[e("span",[t._v(t._s(t._f("toFixed")(i.row.position_profit)))])]}}])}),e("vxe-table-column",{attrs:{field:"float_profit",title:"浮动盈亏","min-width":"13%",sortable:""},scopedSlots:t._u([{key:"default",fn:function(i){return[e("span",[t._v(t._s(t._f("toFixed")(i.row.float_profit)))])]}}])}),e("vxe-table-column",{attrs:{field:"open_price_long",title:"多头均价","min-width":"11%"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("span",[t._v(t._s(t._f("toFixed")(i.row.open_price_long)))])]}}])}),e("vxe-table-column",{attrs:{field:"open_price_short",title:"空头均价","min-width":"10%"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("span",[t._v(t._s(t._f("toFixed")(i.row.open_price_short)))])]}}])}),e("vxe-table-column",{attrs:{field:"last_price",title:"最新","min-width":"7%"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("span",[t._v(t._s(t._f("toFixed")(i.row.last_price)))])]}}])}),e("vxe-table-column",{attrs:{field:"margin",title:"保证金","min-width":"10%"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("span",[t._v(t._s(t._f("toFixed")(i.row.margin)))])]}}])})],1)],1)])])])},a=[],c=(e("a4d3"),e("99af"),e("4de4"),e("caad"),e("fb6a"),e("4e82"),e("a9e3"),e("8ba4"),e("b680"),e("e439"),e("dbb4"),e("b64b"),e("d3b7"),e("4d63"),e("25f0"),e("2532"),e("1276"),e("4c53"),e("159b"),e("96cf"),e("ade3")),n=e("ab13"),s=e("9bdc"),r=e("0084"),l=e("e63c"),d=e("5880"),u={6e5:{limit:1e4,ip:"192.168.2.117",code:"SH600000"},600004:{limit:2e3,ip:"192.168.2.117",code:"SH600004"},600009:{limit:2e3,ip:"192.168.2.117",code:"SH600009"},600010:{limit:2e5,ip:"192.168.2.24",code:"SH600010"},600011:{limit:2e4,ip:"192.168.2.116",code:"SH600011"},600015:{limit:16e3,ip:"192.168.2.24",code:"SH600015"},600016:{limit:2e4,ip:"192.168.2.24",code:"SH600016"},600018:{limit:16e3,ip:"192.168.2.24",code:"SH600018"},600019:{limit:12e3,ip:"192.168.2.117",code:"SH600019"},600023:{limit:1e4,ip:"192.168.2.116",code:"SH600023"},600025:{limit:9e3,ip:"192.168.2.117",code:"SH600025"},600027:{limit:15e3,ip:"192.168.2.116",code:"SH600027"},600028:{limit:1e5,ip:"192.168.2.24",code:"SH600028"},600029:{limit:1e4,ip:"192.168.2.117",code:"SH600029"},600030:{limit:15e3,ip:"192.168.2.24",code:"SH600030"},600031:{limit:6e3,ip:"192.168.2.116",code:"SH600031"},600036:{limit:8e3,ip:"192.168.2.117",code:"SH600036"},600038:{limit:800,ip:"192.168.2.24",code:"SH600038"},600048:{limit:6e3,ip:"192.168.2.116",code:"SH600048"},600050:{limit:5e4,ip:"192.168.2.117",code:"SH600050"},600061:{limit:5e3,ip:"192.168.2.116",code:"SH600061"},600066:{limit:3600,ip:"192.168.2.116",code:"SH600066"},600068:{limit:12e3,ip:"192.168.2.117",code:"SH600068"},600085:{limit:1600,ip:"192.168.2.117",code:"SH600085"},600089:{limit:1e4,ip:"192.168.2.24",code:"SH600089"},600100:{limit:6e3,ip:"192.168.2.117",code:"SH600100"},600104:{limit:4e3,ip:"192.168.2.24",code:"SH600104"},600109:{limit:6e3,ip:"192.168.2.24",code:"SH600109"},600111:{limit:8e3,ip:"192.168.2.117",code:"SH600111"},600115:{limit:15e3,ip:"192.168.2.24",code:"SH600115"},600118:{limit:5e3,ip:"192.168.2.117",code:"SH600118"},600153:{limit:2e3,ip:"192.168.2.117",code:"SH600153"},600170:{limit:1e4,ip:"192.168.2.117",code:"SH600170"},600176:{limit:6e3,ip:"192.168.2.117",code:"SH600176"},600177:{limit:5e3,ip:"192.168.2.24",code:"SH600177"},600188:{limit:4e3,ip:"192.168.2.117",code:"SH600188"},600196:{limit:5e3,ip:"192.168.2.24",code:"SH600196"},600208:{limit:2e4,ip:"192.168.2.116",code:"SH600208"},600219:{limit:5e4,ip:"192.168.2.116",code:"SH600219"},600221:{limit:6e4,ip:"192.168.2.116",code:"SH600221"},600233:{limit:3600,ip:"192.168.2.117",code:"SH600233"},600271:{limit:1e3,ip:"192.168.2.24",code:"SH600271"},600276:{limit:800,ip:"192.168.2.24",code:"SH600276"},600297:{limit:1e4,ip:"192.168.2.117",code:"SH600297"},600299:{limit:1900,ip:"192.168.2.117",code:"SH600299"},600309:{limit:2e3,ip:"192.168.2.116",code:"SH600309"},600332:{limit:1500,ip:"192.168.2.117",code:"SH600332"},600339:{limit:3e3,ip:"192.168.2.117",code:"SH600339"},600340:{limit:2e3,ip:"192.168.2.24",code:"SH600340"},600346:{limit:3e3,ip:"192.168.2.117",code:"SH600346"},600352:{limit:4e3,ip:"192.168.2.24",code:"SH600352"},600362:{limit:6e3,ip:"192.168.2.116",code:"SH600362"},600369:{limit:8e3,ip:"192.168.2.116",code:"SH600369"},600372:{limit:1e3,ip:"192.168.2.24",code:"SH600372"},600383:{limit:4200,ip:"192.168.2.116",code:"SH600383"},600390:{limit:5e3,ip:"192.168.2.24",code:"SH600390"},600398:{limit:5e3,ip:"192.168.2.117",code:"SH600398"},600406:{limit:3e3,ip:"192.168.2.117",code:"SH600406"},600415:{limit:2e3,ip:"192.168.2.117",code:"SH600415"},600436:{limit:500,ip:"192.168.2.24",code:"SH600436"},600438:{limit:8e3,ip:"192.168.2.24",code:"SH600438"},600482:{limit:3500,ip:"192.168.2.24",code:"SH600482"},600487:{limit:5e3,ip:"192.168.2.116",code:"SH600487"},600489:{limit:6e3,ip:"192.168.2.24",code:"SH600489"},600498:{limit:2e3,ip:"192.168.2.116",code:"SH600498"},600516:{limit:9e3,ip:"192.168.2.116",code:"SH600516"},600519:{limit:300,ip:"192.168.2.116",code:"SH600519"},600522:{limit:8e3,ip:"192.168.2.24",code:"SH600522"},600535:{limit:3e3,ip:"192.168.2.24",code:"SH600535"},600547:{limit:2e3,ip:"192.168.2.117",code:"SH600547"},600566:{limit:1e3,ip:"192.168.2.117",code:"SH600566"},600570:{limit:1e3,ip:"192.168.2.117",code:"SH600570"},600583:{limit:8e3,ip:"192.168.2.116",code:"SH600583"},600585:{limit:4e3,ip:"192.168.2.117",code:"SH600585"},600588:{limit:6e3,ip:"192.168.2.117",code:"SH600588"},600606:{limit:9e3,ip:"192.168.2.117",code:"SH600606"},600637:{limit:6e3,ip:"192.168.2.117",code:"SH600637"},600660:{limit:1e3,ip:"192.168.2.24",code:"SH600660"},600663:{limit:800,ip:"192.168.2.24",code:"SH600663"},600674:{limit:5e3,ip:"192.168.2.116",code:"SH600674"},600688:{limit:5e3,ip:"192.168.2.117",code:"SH600688"},600690:{limit:5e3,ip:"192.168.2.116",code:"SH600690"},600703:{limit:7e3,ip:"192.168.2.24",code:"SH600703"},600704:{limit:1e4,ip:"192.168.2.117",code:"SH600704"},600705:{limit:1e4,ip:"192.168.2.116",code:"SH600705"},600733:{limit:5e3,ip:"192.168.2.116",code:"SH600733"},600741:{limit:2e3,ip:"192.168.2.117",code:"SH600741"},600760:{limit:3e3,ip:"192.168.2.24",code:"SH600760"},600795:{limit:2e5,ip:"192.168.2.117",code:"SH600795"},600809:{limit:800,ip:"192.168.2.116",code:"SH600809"},600816:{limit:1e4,ip:"192.168.2.116",code:"SH600816"},600837:{limit:5e3,ip:"192.168.2.116",code:"SH600837"},600867:{limit:5e3,ip:"192.168.2.117",code:"SH600867"},600886:{limit:1e4,ip:"192.168.2.24",code:"SH600886"},600887:{limit:2e3,ip:"192.168.2.117",code:"SH600887"},600893:{limit:500,ip:"192.168.2.116",code:"SH600893"},600900:{limit:2e4,ip:"192.168.2.116",code:"SH600900"},600919:{limit:2e4,ip:"192.168.2.116",code:"SH600919"},600926:{limit:1e4,ip:"192.168.2.116",code:"SH600926"},600958:{limit:5e3,ip:"192.168.2.24",code:"SH600958"},600977:{limit:2e3,ip:"192.168.2.24",code:"SH600977"},600998:{limit:500,ip:"192.168.2.117",code:"SH600998"},600999:{limit:3e3,ip:"192.168.2.117",code:"SH600999"},601006:{limit:1e4,ip:"192.168.2.117",code:"SH601006"},601009:{limit:1e4,ip:"192.168.2.24",code:"SH601009"},601012:{limit:2e3,ip:"192.168.2.24",code:"SH601012"},601018:{limit:1e4,ip:"192.168.2.24",code:"SH601018"},601021:{limit:1500,ip:"192.168.2.24",code:"SH601021"},601066:{limit:3e3,ip:"192.168.2.116",code:"SH601066"},601088:{limit:5e3,ip:"192.168.2.116",code:"SH601088"},601108:{limit:5e3,ip:"192.168.2.117",code:"SH601108"},601111:{limit:5e3,ip:"192.168.2.24",code:"SH601111"},601117:{limit:3e3,ip:"192.168.2.116",code:"SH601117"},601138:{limit:3e3,ip:"192.168.2.116",code:"SH601138"},601155:{limit:2e3,ip:"192.168.2.117",code:"SH601155"},601162:{limit:8e3,ip:"192.168.2.24",code:"SH601162"},601166:{limit:5e3,ip:"192.168.2.24",code:"SH601166"},601169:{limit:3e4,ip:"192.168.2.117",code:"SH601169"},601186:{limit:1e4,ip:"192.168.2.24",code:"SH601186"},601198:{limit:2e3,ip:"192.168.2.24",code:"SH601198"},601211:{limit:3e3,ip:"192.168.2.117",code:"SH601211"},601212:{limit:1e4,ip:"192.168.2.117",code:"SH601212"},601216:{limit:1e4,ip:"192.168.2.117",code:"SH601216"},601225:{limit:3e3,ip:"192.168.2.117",code:"SH601225"},601228:{limit:3e3,ip:"192.168.2.117",code:"SH601228"},601229:{limit:1e4,ip:"192.168.2.116",code:"SH601229"},601238:{limit:3e3,ip:"192.168.2.117",code:"SH601238"},601288:{limit:15e4,ip:"192.168.2.116",code:"SH601288"},601298:{limit:5e3,ip:"192.168.2.24",code:"SH601298"},601318:{limit:5e3,ip:"192.168.2.24",code:"SH601318"},601319:{limit:1e4,ip:"192.168.2.116",code:"SH601319"},601328:{limit:5e4,ip:"192.168.2.117",code:"SH601328"},601336:{limit:2e3,ip:"192.168.2.24",code:"SH601336"},601360:{limit:2e3,ip:"192.168.2.24",code:"SH601360"},601377:{limit:1e4,ip:"192.168.2.116",code:"SH601377"},601390:{limit:2e4,ip:"192.168.2.24",code:"SH601390"},601398:{limit:5e4,ip:"192.168.2.116",code:"SH601398"},601555:{limit:1e4,ip:"192.168.2.116",code:"SH601555"},601577:{limit:5e3,ip:"192.168.2.116",code:"SH601577"},601600:{limit:3e4,ip:"192.168.2.24",code:"SH601600"},601601:{limit:2e3,ip:"192.168.2.116",code:"SH601601"},601607:{limit:3e3,ip:"192.168.2.116",code:"SH601607"},601618:{limit:5e4,ip:"192.168.2.117",code:"SH601618"},601628:{limit:3e3,ip:"192.168.2.117",code:"SH601628"},601633:{limit:3e3,ip:"192.168.2.116",code:"SH601633"},601668:{limit:3e4,ip:"192.168.2.117",code:"SH601668"},601669:{limit:3e4,ip:"192.168.2.24",code:"SH601669"},601688:{limit:2e4,ip:"192.168.2.117",code:"SH601688"},601727:{limit:2e4,ip:"192.168.2.24",code:"SH601727"},601766:{limit:2e4,ip:"192.168.2.116",code:"SH601766"},601788:{limit:1e4,ip:"192.168.2.117",code:"SH601788"},601800:{limit:2e4,ip:"192.168.2.24",code:"SH601800"},601808:{limit:5e3,ip:"192.168.2.116",code:"SH601808"},601818:{limit:5e4,ip:"192.168.2.24",code:"SH601818"},601828:{limit:2e3,ip:"192.168.2.116",code:"SH601828"},601838:{limit:2e4,ip:"192.168.2.116",code:"SH601838"},601857:{limit:1e5,ip:"192.168.2.117",code:"SH601857"},601877:{limit:2e3,ip:"192.168.2.24",code:"SH601877"},601878:{limit:2e4,ip:"192.168.2.24",code:"SH601878"},601881:{limit:2e4,ip:"192.168.2.116",code:"SH601881"},601888:{limit:2e3,ip:"192.168.2.24",code:"SH601888"},601898:{limit:2e4,ip:"192.168.2.116",code:"SH601898"},601899:{limit:5e4,ip:"192.168.2.116",code:"SH601899"},601901:{limit:4e4,ip:"192.168.2.117",code:"SH601901"},601919:{limit:15e3,ip:"192.168.2.116",code:"SH601919"},601933:{limit:1e4,ip:"192.168.2.116",code:"SH601933"},601939:{limit:1e5,ip:"192.168.2.116",code:"SH601939"},601985:{limit:3e4,ip:"192.168.2.24",code:"SH601985"},601988:{limit:1e5,ip:"192.168.2.117",code:"SH601988"},601989:{limit:3e4,ip:"192.168.2.116",code:"SH601989"},601992:{limit:5e4,ip:"192.168.2.24",code:"SH601992"},601997:{limit:3e4,ip:"192.168.2.117",code:"SH601997"},601998:{limit:2e4,ip:"192.168.2.24",code:"SH601998"},603019:{limit:2500,ip:"192.168.2.24",code:"SH603019"},603156:{limit:2e3,ip:"192.168.2.24",code:"SH603156"},603160:{limit:500,ip:"192.168.2.24",code:"SH603160"},603259:{limit:1e3,ip:"192.168.2.116",code:"SH603259"},603260:{limit:1e3,ip:"192.168.2.24",code:"SH603260"},603288:{limit:500,ip:"192.168.2.116",code:"SH603288"},603799:{limit:3e3,ip:"192.168.2.24",code:"SH603799"},603833:{limit:500,ip:"192.168.2.117",code:"SH603833"},603858:{limit:700,ip:"192.168.2.117",code:"SH603858"},603986:{limit:300,ip:"192.168.2.116",code:"SH603986"},603993:{limit:3e4,ip:"192.168.2.24",code:"SH603993"},"000001":{limit:3500,ip:"192.168.2.117",code:"Z$000001"},"000002":{limit:3e3,ip:"192.168.2.116",code:"Z$000002"},"000063":{limit:2500,ip:"192.168.2.117",code:"Z$000063"},"000069":{limit:5e3,ip:"192.168.2.117",code:"Z$000069"},"000100":{limit:2e4,ip:"192.168.2.24",code:"Z$000100"},"000157":{limit:5e3,ip:"192.168.2.117",code:"Z$000157"},"000166":{limit:1e4,ip:"192.168.2.117",code:"Z$000166"},"000333":{limit:2e3,ip:"192.168.2.24",code:"Z$000333"},"000338":{limit:3e3,ip:"192.168.2.24",code:"Z$000338"},"000402":{limit:5e3,ip:"192.168.2.24",code:"Z$000402"},"000408":{limit:1e3,ip:"192.168.2.24",code:"Z$000408"},"000413":{limit:15e3,ip:"192.168.2.116",code:"Z$000413"},"000415":{limit:1e4,ip:"192.168.2.117",code:"Z$000415"},"000423":{limit:500,ip:"192.168.2.117",code:"Z$000423"},"000425":{limit:1e4,ip:"192.168.2.24",code:"Z$000425"},"000538":{limit:500,ip:"192.168.2.117",code:"Z$000538"},"000553":{limit:1e3,ip:"192.168.2.24",code:"Z$000553"},"000568":{limit:500,ip:"192.168.2.24",code:"Z$000568"},"000596":{limit:300,ip:"192.168.2.24",code:"Z$000596"},"000625":{limit:3e3,ip:"192.168.2.116",code:"Z$000625"},"000627":{limit:5e3,ip:"192.168.2.116",code:"Z$000627"},"000629":{limit:15e3,ip:"192.168.2.24",code:"Z$000629"},"000630":{limit:3e4,ip:"192.168.2.117",code:"Z$000630"},"000651":{limit:1500,ip:"192.168.2.116",code:"Z$000651"},"000656":{limit:5e3,ip:"192.168.2.24",code:"Z$000656"},"000661":{limit:300,ip:"192.168.2.24",code:"Z$000661"},"000671":{limit:2e3,ip:"192.168.2.116",code:"Z$000671"},"000703":{limit:2e3,ip:"192.168.2.116",code:"Z$000703"},"000709":{limit:1e4,ip:"192.168.2.24",code:"Z$000709"},"000725":{limit:1e5,ip:"192.168.2.117",code:"Z$000725"},"000728":{limit:3500,ip:"192.168.2.24",code:"Z$000728"},"000768":{limit:2e3,ip:"192.168.2.24",code:"Z$000768"},"000776":{limit:3500,ip:"192.168.2.24",code:"Z$000776"},"000783":{limit:3e3,ip:"192.168.2.116",code:"Z$000783"},"000786":{limit:500,ip:"192.168.2.24",code:"Z$000786"},"000858":{limit:1e3,ip:"192.168.2.117",code:"Z$000858"},"000876":{limit:1e3,ip:"192.168.2.116",code:"Z$000876"},"000895":{limit:1e3,ip:"192.168.2.117",code:"Z$000895"},"000898":{limit:8e3,ip:"192.168.2.24",code:"Z$000898"},"000938":{limit:1500,ip:"192.168.2.24",code:"Z$000938"},"000961":{limit:3e3,ip:"192.168.2.116",code:"Z$000961"},"000963":{limit:1500,ip:"192.168.2.116",code:"Z$000963"},"001979":{limit:2e3,ip:"192.168.2.116",code:"Z$001979"},"002001":{limit:1e3,ip:"192.168.2.117",code:"Z$002001"},"002007":{limit:600,ip:"192.168.2.117",code:"Z$002007"},"002008":{limit:1e3,ip:"192.168.2.24",code:"Z$002008"},"002010":{limit:2500,ip:"192.168.2.116",code:"Z$002010"},"002024":{limit:8e3,ip:"192.168.2.116",code:"Z$002024"},"002027":{limit:15e3,ip:"192.168.2.117",code:"Z$002027"},"002032":{limit:500,ip:"192.168.2.116",code:"Z$002032"},"002044":{limit:3e3,ip:"192.168.2.116",code:"Z$002044"},"002050":{limit:1500,ip:"192.168.2.116",code:"Z$002050"},"002065":{limit:1e3,ip:"192.168.2.24",code:"Z$002065"},"002081":{limit:2500,ip:"192.168.2.116",code:"Z$002081"},"002120":{limit:1e3,ip:"192.168.2.116",code:"Z$002120"},"002142":{limit:2e3,ip:"192.168.2.116",code:"Z$002142"},"002146":{limit:3e3,ip:"192.168.2.117",code:"Z$002146"},"002153":{limit:1e3,ip:"192.168.2.116",code:"Z$002153"},"002179":{limit:500,ip:"192.168.2.116",code:"Z$002179"},"002202":{limit:2e3,ip:"192.168.2.24",code:"Z$002202"},"002230":{limit:2500,ip:"192.168.2.117",code:"Z$002230"},"002236":{limit:3e3,ip:"192.168.2.24",code:"Z$002236"},"002241":{limit:2e3,ip:"192.168.2.24",code:"Z$002241"},"002252":{limit:8e3,ip:"192.168.2.116",code:"Z$002252"},"002271":{limit:500,ip:"192.168.2.24",code:"Z$002271"},"002294":{limit:600,ip:"192.168.2.117",code:"Z$002294"},"002304":{limit:300,ip:"192.168.2.117",code:"Z$002304"},"002310":{limit:2e3,ip:"192.168.2.116",code:"Z$002310"},"002311":{limit:500,ip:"192.168.2.117",code:"Z$002311"},"002352":{limit:500,ip:"192.168.2.117",code:"Z$002352"},"002410":{limit:500,ip:"192.168.2.116",code:"Z$002410"},"002411":{limit:2e3,ip:"192.168.2.117",code:"Z$002411"},"002415":{limit:1500,ip:"192.168.2.117",code:"Z$002415"},"002422":{limit:1e3,ip:"192.168.2.116",code:"Z$002422"},"002456":{limit:5e3,ip:"192.168.2.116",code:"Z$002456"},"002460":{limit:1500,ip:"192.168.2.117",code:"Z$002460"},"002466":{limit:2e3,ip:"192.168.2.116",code:"Z$002466"},"002468":{limit:1e3,ip:"192.168.2.117",code:"Z$002468"},"002475":{limit:3e3,ip:"192.168.2.24",code:"Z$002475"},"002493":{limit:1500,ip:"192.168.2.117",code:"Z$002493"},"002508":{limit:500,ip:"192.168.2.117",code:"Z$002508"},"002555":{limit:1500,ip:"192.168.2.116",code:"Z$002555"},"002558":{limit:1e3,ip:"192.168.2.116",code:"Z$002558"},"002594":{limit:1e3,ip:"192.168.2.24",code:"Z$002594"},"002601":{limit:1e3,ip:"192.168.2.117",code:"Z$002601"},"002602":{limit:3500,ip:"192.168.2.117",code:"Z$002602"},"002624":{limit:500,ip:"192.168.2.116",code:"Z$002624"},"002625":{limit:400,ip:"192.168.2.116",code:"Z$002625"},"002673":{limit:5e3,ip:"192.168.2.24",code:"Z$002673"},"002714":{limit:800,ip:"192.168.2.116",code:"Z$002714"},"002736":{limit:1500,ip:"192.168.2.117",code:"Z$002736"},"002739":{limit:1500,ip:"192.168.2.117",code:"Z$002739"},"002773":{limit:500,ip:"192.168.2.24",code:"Z$002773"},"002925":{limit:100,ip:"192.168.2.116",code:"Z$002925"},"002938":{limit:500,ip:"192.168.2.116",code:"Z$002938"},"002939":{limit:2e3,ip:"192.168.2.116",code:"Z$002939"},"002945":{limit:2e3,ip:"192.168.2.116",code:"Z$002945"},300003:{limit:1e3,ip:"192.168.2.24",code:"Z$300003"},300015:{limit:700,ip:"192.168.2.24",code:"Z$300015"},300017:{limit:5e3,ip:"192.168.2.116",code:"Z$300017"},300024:{limit:1500,ip:"192.168.2.117",code:"Z$300024"},300033:{limit:600,ip:"192.168.2.117",code:"Z$300033"},300059:{limit:15e3,ip:"192.168.2.24",code:"Z$300059"},300070:{limit:8e3,ip:"192.168.2.117",code:"Z$300070"},300072:{limit:2e3,ip:"192.168.2.116",code:"Z$300072"},300122:{limit:600,ip:"192.168.2.24",code:"Z$300122"},300124:{limit:1300,ip:"192.168.2.24",code:"Z$300124"},300136:{limit:6e3,ip:"192.168.2.24",code:"Z$300136"},300142:{limit:2e3,ip:"192.168.2.116",code:"Z$300142"},300144:{limit:600,ip:"192.168.2.117",code:"Z$300144"},300251:{limit:1e3,ip:"192.168.2.116",code:"Z$300251"},300296:{limit:1500,ip:"192.168.2.116",code:"Z$300296"},300408:{limit:3e3,ip:"192.168.2.117",code:"Z$300408"},300413:{limit:1e3,ip:"192.168.2.24",code:"Z$300413"},300433:{limit:9e3,ip:"192.168.2.24",code:"Z$300433"},300498:{limit:5e3,ip:"192.168.2.117",code:"Z$300498"}},h=e("6e85"),m=e.n(h);function p(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);i&&(o=o.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,o)}return e}function f(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?p(Object(e),!0).forEach((function(i){Object(c["a"])(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):p(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}var S={name:"demo-trade-tradeaccAnalysis",data:function(){return{wsURL:"",pnlURL:"",accURL:"",loading:!1,allPnl:null,launchSub:"",limit:0,switchAccBtnFlag:!1,accIndex:0,wsChartData:{},businessTableHeight:.28*(window.innerHeight-120),websock:null,psdNote:{},sendSocket:{topic:"qifisub",username:"",password:""},cancleSubAcc:{topic:"qifiunsub",username:"",password:""},subMarket:{topic:"realtime_sub",room:""},cancleSubReal:{topic:"realtime_unsub",room:""},myEchartFlag:!0,switchFlag:!0,show:!1,chartSize:{},myEchartSize:{},echartInfo:{},dotData:[],lastAccount:"",lastTradeLength:0,lastPositionsLength:0,pageSize:20,currentPage:1,total:10,searchValue:"",accountTabCurrent:0,storageTrade:[],account:"",symbol:"",timeValue:[new Date,new Date],detailTabHeight:0,accountInfoName:{user_id:"用户号",currency:"货币属性",pre_balance:"结算权益",deposit:"转入资金",withdraw:"转出资金",WithdrawQuota:"可取字段",close_profit:"平仓盈亏",commission:"手续费",premium:"附加费",static_balance:"静态权益",position_profit:"持仓盈亏",float_profit:"浮动盈亏",balance:"当前权益",margin:"保证金",available:"可用资金",risk_ratio:"风险度"},accountTableHeight:.5*(window.innerHeight-121)-140+"px",accountInfoHeight:.5*(window.innerHeight-121)-10+"px",accountInfo:{},searchData:[],accountData:[],trade:[],positions:[],businessInfo:[],profitAndLossData:{money:0,radio:0},queryId:"",isChange:!0,ops:{vuescroll:{mode:"native"},scrollPanel:{},rail:{background:"#01a99a",opacity:0,size:"10px",specifyBorderRadius:!1,gutterOfEnds:null,gutterOfSide:"0px",keepShow:!0,border:"none"},bar:{keepShow:!0,hoverStyle:!0,onlyShowBarOnScroll:!0,background:"#ccc"}}}},computed:f({},Object(d["mapState"])({accOverviewData:function(t){return t.d2admin.accOverview.accOverviewData}})),watch:{dotData:function(){this.updateTrendChart()},account:function(){this.dotData=[],this.$store.commit("d2admin/dot/setDotData",this.dotData),this.updateTrendChart()},symbol:function(){this.updateTrendChart()},timeValue:function(t,i){this.$store.commit("d2admin/symbol/setTime",t),this.updateTrendChart()},accountInfo:function(t){this.$refs.cashChart.latestData=t}},components:{trendChart:n["default"],cashChart:s["default"]},created:function(){var t=Object(r["a"])();this.wsURL=t.wsURL,this.pnlURL=t.pnlURL,this.accURL=t.accURL,this.initWebSocket()},destroyed:function(){},mounted:function(){this.getQuery(),this.setChartSize(),this.setMyEchartSize(),this.getAccountData(),this.monitor()},filters:{splitNum:function(t){return"number"===typeof t?Number.isInteger(t)?t:t.toFixed(1):t},toFixed:function(t){return Number.isInteger(t)?t:t.toFixed(1)},percentageNum:function(t){return(100*t).toFixed(2)+"%"},format:function(t){return"BUY"===t?"买":"SELL"===t?"卖":"OPEN"===t?"开仓":"CLOSE"===t?"平仓":"CLOSETODAY"===t?"平今仓":"CLOSEYESTERDAY"===t?"平昨仓":void 0}},methods:{initWebSocket:function(){var t=this.wsURL;this.websock=new WebSocket(t),this.websock.onmessage=this.websocketonmessage,this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onclose=this.websocketclose},websocketonopen:function(){var t={topic:"auth",key:"000000000"};this.websocketsend(t)},websocketonerror:function(){this.initWebSocket()},websocketonmessage:function(t){var i=JSON.parse(t.data);404!==i.code&&("qifi_pub"===i.topic&&this.qifiPub(i),"realtime_1min_pub"===i.topic&&(this.wsChartData=i.data))},websocketsend:function(t){this.websock.send(JSON.stringify(t))},websocketclose:function(t){console.log("断开连接",t)},setChartSize:function(){var t=this;this.$nextTick((function(){t.chartSize={width:t.$refs.chartBox.offsetWidth-10,height:t.$refs.chartBox.offsetHeight-10},t.detailTabHeight=t.$refs.accountContainerDom.offsetHeight/2-55}))},monitor:function(){var t=this;this.$erd.listenTo(this.$refs.accountContainerDom,(function(i){var e=t.$refs.accountContainerDom.offsetWidth-880,o=t.$refs.accountContainerDom.offsetHeight;t.$refs.trendChart&&(t.$refs.trendChart.OnSize(e,.7*o-10),t.chartSize={width:e,height:.7*o-10},t.$refs.analysisTab&&(t.$refs.analysisTab.style.width=.8*e+"px"),t.accountTableHeight=.5*o-140+"px",t.accountInfoHeight=.5*o-10+"px",t.detailTabHeight=o/2-45,t.$refs.cashChart.cashChartSize.width=e+"px",t.$refs.cashChart.cashChartSize.height=.3*o-10+"px")}))},setMyEchartSize:function(){var t=this;this.$nextTick((function(){t.myEchartSize={width:t.$refs.detail.offsetWidth+"px",height:t.$refs.detail.offsetHeight-41+"px"}}))},selectAccount:function(t,i){this.isChange=!0,this.accountTabCurrent=t,this.lastAccount=this.account,this.account=i,this.$refs.cashChart.account=this.account,this.cancleSubAcc.username=this.lastAccount,this.cancleSubAcc.password=this.psdNote[this.lastAccount],this.websocketsend(this.cancleSubAcc),this.sendSocket.username=i,this.sendSocket.password=this.psdNote[i],this.websocketsend(this.sendSocket),""!==this.launchSub&&(this.unSub(this.launchSub),this.launchSub=""),this.businessInfo=[]},searchAccountData:function(){var t=new RegExp(this.searchValue,"i");if(""===this.searchValue)return this.copyAccountData=this.accountData.slice(0),this.searchData=this.accountData.slice(0,this.pageSize),void(this.total=this.copyAccountData.length);this.searchData=this.copyAccountData=this.accountData.filter((function(i){return t.test(i)})),this.total=this.copyAccountData.length,this.searchData=this.copyAccountData.slice(0,this.pageSize)},refresh:function(){this.queryId="",this.getAccountData()},getAccountData:function(){var t=this;this.businessInfo=[],this.queryId?setTimeout((function(){t.accountData=[t.queryId],t.searchData=t.accountData.slice(0,t.pageSize),t.total=t.accountData.length,t.account=t.accountData[0],t.sendSocket.username=t.queryId,t.sendSocket.password="",t.websocketsend(t.sendSocket),t.$refs.cashChart.account=t.account}),100):this.$http.get(this.accURL+"/qaaccount/get_all_accounts").then((function(i){var e=i.data;for(var o in t.psdNote=e,t.accountData=[],e)t.accountData.push(o);t.copyAccountData=t.accountData.slice(0),t.searchData=t.accountData.slice(0,t.pageSize),t.total=t.accountData.length,t.account=t.accountData[0],t.sendSocket.username=t.accountData[0],t.sendSocket.password=t.psdNote[t.accountData[0]],setTimeout((function(){t.websocketsend(t.sendSocket)}),100),t.accountTabCurrent=0,t.$refs.cashChart.account=t.account}))},handleCurrentChange:function(t){this.searchData=this.copyAccountData.slice((this.currentPage-1)*this.pageSize,this.currentPage*this.pageSize)},formatterTime:function(t,i){var e=new Date(t/1e6),o=e.getFullYear(),a=e.getMonth()+1>=10?e.getMonth()+1:"0"+(e.getMonth()+1),c=e.getDate()>=10?e.getDate():"0"+e.getDate(),n=e.getHours()>=10?e.getHours():"0"+e.getHours(),s=e.getMinutes()>=10?e.getMinutes():"0"+e.getMinutes(),r=e.getSeconds()>=10?e.getSeconds():"0"+e.getSeconds();return"MMDD"===i?"".concat(a,"-").concat(c," ").concat(n,":").concat(s,":").concat(r):"".concat(o,"-").concat(a,"-").concat(c," ").concat(n,":").concat(s,":").concat(r)},getAllPnl:function(){var t=this;this.$http.post(this.pnlURL+"/qaaccount/get_pnl",{cookie:this.account},{headers:{"Content-Type":"application/json"}}).then((function(i){var e=i.data;t.allPnl=e})).catch((function(){t.allPnl=[]}))},detailPositionsRowClick:function(t){var i=t.row;this.isChange=!1;var e=i.open_price_long?i.open_price_long:i.open_price_short;this.$store.commit("d2admin/priceLine/setPrice",e),this.$store.commit("d2admin/symbol/setSymbol",i.instrument_id),this.symbol=i.instrument_id,this.launchSub!==i.instrument_id&&(this.unSub(this.launchSub),this.sub(i.instrument_id),this.launchSub=i.instrument_id),this.$store.commit("d2admin/dot/setDotData",[]),this.$store.commit("d2admin/dot/setDotData",this.dotData)},detailRowClick:function(t){var i,e,o,a,c,n,s,r,l,d,u;return regeneratorRuntime.async((function(h){while(1)switch(h.prev=h.next){case 0:if(i=t.row,this.isChange=!1,this.$store.commit("d2admin/priceLine/setPrice",i.price),this.$store.commit("d2admin/symbol/setSymbol",i.instrument_id),this.symbol=i.instrument_id,this.launchSub!==i.instrument_id&&(this.unSub(this.launchSub),this.sub(i.instrument_id),this.launchSub=i.instrument_id),e=i.instrument_id,o=i.offset,a=i.trade_id,c={},n=this.allPnl,this.$store.commit("d2admin/dot/setDotData",this.dotData),n){h.next=14;break}return h.abrupt("return");case 14:if(s=null,o.includes("CLOSE")?s=n.filter((function(t){return t.close_trade_id===a})):o.includes("OPEN")&&(s=n.filter((function(t){return t.open_trade_id===a}))),0!==s.length){h.next=18;break}return h.abrupt("return");case 18:for(r in c=!0===s[0].if_buyopen?{OPEN:"BUY",CLOSE:"SELL"}:{CLOSE:"BUY",OPEN:"SELL"},this.profitAndLossData={money:0,radio:0},s)this.profitAndLossData.money+=s[r]["pnl_money"],this.profitAndLossData.radio+=s[r]["pnl_ratio"];for(l in this.profitAndLossData.money=this.profitAndLossData.money.toFixed(2),this.profitAndLossData.radio=(100*this.profitAndLossData.radio).toFixed(2)+"%",this.businessInfo=[],this.businessInfo.push(i),s)"CLOSE"===o?(d={instrument_id:e,direction:c["OPEN"],offset:"OPEN",price:s[l].openprice,volume:s[l].amount,trade_date_time:this.formatterTime(s[l].open_datetime)},"BUY"===c["OPEN"]?this.businessInfo.unshift(d):this.businessInfo.push(d)):(u={instrument_id:e,direction:c["CLOSE"],offset:"CLOSE",price:s[l].closeprice,volume:s[l].amount,trade_date_time:this.formatterTime(s[l].close_datetime)},"BUY"===c["CLOSE"]?this.businessInfo.unshift(u):this.businessInfo.push(u));this.getDot(this.businessInfo);case 27:case"end":return h.stop()}}),null,this)},dealDotTime:function(t){var i=t.split(" ")[1];return i=i.split(":"),i=Number(i[0])+""+i[1],i},getDot:function(t){var i=[],e={color:"rgb(255,255,255)",backgroundColor:"rgba(233,30,99,0.5)"},o={color:"rgb(255,255,255)",backgroundColor:"rgba(0,150,136,0.5)"};for(var a in t){var c={},n={},s=Number(m()(t[a].trade_date_time).format("YYYYMMDD"));c.symbol=t[a].instrument_id;var r=new l["b"](t[a].instrument_id).distinguish(),d=r.type,u=Number(this.dealDotTime(t[a]["trade_date_time"]));c.flag=u>=2100&&u<=2359&&"future"===d;var h=t[a]["offset"].includes("OPEN")?"O":"C",p=t[a]["offset"].includes("OPEN")?"开仓":"平仓",f="BUY"===t[a]["direction"]?"B":"S",S="BUY"===t[a]["direction"]?"买入":"卖出",g=t[a].volume;n="B"===f?e:o;var b=Number.isInteger(t[a]["price"])?t[a]["price"]:t[a]["price"].toFixed(2);c.date=s,c.data={Date:s,Time:u,Title:f+" "+h+" "+b,Color:n.color,BGColor:n.backgroundColor,Price:b,Content:S+p+g+"手"},i.push(c)}this.dotData=i,this.$store.commit("d2admin/dot/setDotData",this.dotData)},collectInfo:function(){var t=this;if(0!==this.timeValue.length){var i=new Date(this.timeValue[0]),e=i.getFullYear(),o=i.getMonth()+1>=10?i.getMonth()+1:"0"+(i.getMonth()+1),a=i.getDate()>=10?i.getDate():"0"+i.getDate();i="".concat(e,"-").concat(o,"-").concat(a),this.echartInfo={cookie:this.account||this.accountData[0],datetime:i},this.switchFlag=!1,this.myEchartFlag=!1,this.$nextTick((function(){t.myEchartFlag=!0}))}else this.$message({message:"请先选择时间",type:"warning"})},getQuery:function(){this.queryId=this.$route.params.id},updateTrendChart:function(){var t=this;this.show=!1,this.$nextTick((function(){t.show=!0}))},delKey:function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),o=1;o<i;o++)e[o-1]=arguments[o];e.forEach((function(i){delete t[i]}))},qifiPub:function(t){var i=Object.prototype.toString.call(t.data),e="[object Array]"===i?t.data[0]:t.data,o=e.trades,a=e.positions;if(e.accounts.user_id===this.account||""===this.account){for(var c in this.positions=[],a)this.positions.push(a[c]);for(var n in this.trade=[],o)o[n]["trade_date_time"]=this.formatterTime(o[n]["trade_date_time"]),this.trade.push(o[n]);if(this.trade=this.trade.sort((function(t,i){return new Date(i["trade_date_time"]).getTime()-new Date(t["trade_date_time"]).getTime()})),0!==this.positions.length&&this.isChange){this.isChange=!1,this.launchSub=this.positions[0].instrument_id,this.sub(this.positions[0].instrument_id),this.symbol=this.positions[0].instrument_id,this.$store.commit("d2admin/symbol/setSymbol",this.symbol);var s=this.positions[0].open_price_long?this.positions[0].open_price_long:this.positions[0].open_price_short;this.$store.commit("d2admin/priceLine/setPrice",s),this.show=!0}else 0===this.positions.length&&(this.$store.commit("d2admin/symbol/setSymbol",""),this.show=!1);this.lastPositionsLength=this.positions.length,this.account!==this.lastAccount&&this.trade.length!==this.lastTradeLength&&this.getDot(this.trade),this.lastTradeLength=this.trade.length,this.accountInfo=JSON.parse(JSON.stringify(e.accounts)),this.accountInfo.date=e.updatetime.split(".")[0],this.delKey(this.accountInfo,"frozen_margin","frozen_commission","frozen_premium","deposit","withdraw","WithdrawQuota","premium")}},rowStyle:function(t){var i=t.row,e={};return"SELL"===i.direction?e.color="#67C23A":e.color="#F56C6C",e},rowStyle1:function(t){var i=t.row,e={};return i.float_profit>0?e.color="#F56C6C":0===i.float_profit?e.color="#000":e.color="#67C23A",e},switchAcc:function(t){var i=this;setTimeout((function(){if(0===i.accIndex&&"prev"===t)return i.$message({message:"已经是第一条了！",type:"warning"});if(i.accIndex===i.accOverviewData.length-1&&"next"===t)return i.$message({message:"已经是最后一条了！",type:"warning"});i.businessInfo=[];var e=i.accOverviewData[i.accIndex].user_id;"next"===t?i.accIndex++:i.accIndex--,i.accountData=[i.accOverviewData[i.accIndex].user_id],i.searchData=i.accountData.slice(0,i.pageSize),i.total=i.accountData.length,i.account=i.accountData[0],i.sendSocket.username=i.account,i.sendSocket.password="",i.websocketsend(i.sendSocket),i.cancleSubAcc.username=e,i.cancleSubAcc.password="",i.websocketsend(i.cancleSubAcc)}),100)},getLimit:function(t){var i=new l["b"](t).distinguish();"future"!==i.type?(i=i.number,this.limit=u[i]["limit"]):this.limit=""},toFixed:function(t){var i=t["commission"].toFixed(2);return i},sub:function(t){var i=new l["a"](t).distinguish();this.subMarket.room=i,this.websocketsend(this.subMarket)},unSub:function(t){var i=new l["a"](t).distinguish();this.cancleSubReal.room=i,this.websocketsend(this.cancleSubReal)}}},g=S,b=(e("558b"),e("c83f"),e("2877")),H=Object(b["a"])(g,o,a,!1,null,"31f6698c",null);i["default"]=H.exports},"9bdc":function(t,i,e){"use strict";e.r(i);var o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("ve-line",{directives:[{name:"loading",rawName:"v-loading",value:t.flag,expression:"flag"}],attrs:{width:t.cashChartSize.width,height:t.cashChartSize.height,data:t.chartData,extend:t.lineExtend,settings:t.lineChartSettings}})},a=[],c=(e("caad"),e("fb6a"),e("a9e3"),e("d3b7"),e("2532"),e("1276"),e("ddb0"),e("96cf"),e("0084")),n=e("6e85"),s=e.n(n),r=e("f950"),l={data:function(){return{cashURL:null,timer:null,flag:!0,account:"",latestData:{},cashChartSize:{width:"100%",height:"300px"},chartData:{columns:["trading_day","balance"],rows:[{date:"1/1",PV:1393,Order:1093,OrderRate:.32},{date:"1/2",PV:3530,Order:3230,OrderRate:.26},{date:"1/3",PV:2923,Order:2623,OrderRate:.76},{date:"1/4",PV:1723,Order:1423,OrderRate:.49},{date:"1/5",PV:3792,Order:3492,OrderRate:.323},{date:"1/6",PV:4593,Order:4293,OrderRate:.78}]},lineExtend:{title:{text:"",x:"center",y:"top",textAlign:"left",textStyle:{color:"#666",fontSize:14,fontWeight:100}},legend:{show:!1,selected:[]},yAxis:{type:"value",splitNumber:4,axisLabel:{inside:!0,verticalAlign:"bottom"},axisTick:{inside:!0},splitLine:{show:!0,lineStyle:{color:["#eee"],width:1,type:"solid"}}},xAxis:{splitLine:{show:!0,lineStyle:{color:["#eee"],width:1,type:"solid"}}},grid:{top:30,bottom:5},areaStyle:{color:"rgba(70,177,207,0.2)"},series:{lineStyle:{color:"rgba(70,177,207,1)",width:.6}}},lineChartSettings:{selectedMode:"single",hoverAnimation:!1,scale:[!0,!0],area:!0}}},watch:{account:function(t,i){t!==i&&(this.flag=!0,this.getCashData())},latestData:function(t,i){if(t.date!==i.date){var e={trading_day:t.date,balance:t.balance};this.chartData.rows.push(e)}}},mounted:function(){this.cashURL=Object(c["a"])().cashURL,this.getCashData()},methods:{getCashData:function(){var t,i,e,o;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(this.$http.get(this.cashURL+"/tradeaccounts",{params:{action:"query_accounthistorytick",account_cookie:this.account}}));case 2:t=a.sent,i=t.result,i=i.slice(i.length-3e3,i.length),e=[],a.t0=regeneratorRuntime.keys(i);case 7:if((a.t1=a.t0()).done){a.next=15;break}if(o=a.t1.value,i[o]["trading_day"]=i[o]["trading_day"].split(".")[0],!(this.isDuringDate(i[o]["trading_day"],"2:30","9:00")||this.isDuringDate(i[o]["trading_day"],"11:30","13:00")||this.isDuringDate(i[o]["trading_day"],"15:15","21:00"))){a.next=12;break}return a.abrupt("continue",7);case 12:e.push(i[o]),a.next=7;break;case 15:this.chartData.rows=e,this.flag=!1;case 17:case"end":return a.stop()}}),null,this)},isDuringDate:function(t,i,e){var o=s()(t).format("YYYY-MM-DD"),a=Number(s()(t).format("YYYYMMDD")),c=new Date(t),n=new Date(o+" "+i),l=new Date(o+" "+e);return c>=n&&c<=l||!r["a"].includes(a)}}},d=l,u=e("2877"),h=Object(u["a"])(d,o,a,!1,null,null,null);i["default"]=h.exports},ab13:function(t,i,e){"use strict";e.r(i);var o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{ref:"minute",attrs:{id:"minute"}})},a=[],c=(e("99af"),e("caad"),e("a15b"),e("fb6a"),e("a434"),e("b0c0"),e("a9e3"),e("d3b7"),e("25f0"),e("2532"),e("1276"),e("96cf"),e("7510")),n=e.n(c),s=(e("9f63"),e("1247"),e("e63c")),r=e("0084"),l=e("6e85"),d=e.n(l);n.a.Chart.JSConsole.Chart.Log=function(){},n.a.Chart.JSConsole.Complier.Log=function(){};var u={props:["chartSize","wsChartData"],data:function(){return{accURL:"",first:!0,lastDate:"",originSymbol:"",dotData:this.$store.state.d2admin.dot.dotData,price:this.$store.state.d2admin.priceLine.price,Cache:"",Symbol:"",type:"",Minute:{JSChart:null,Option:{Symbol:"",Type:"分钟走势图",Windows:[],IsAutoUpdate:!1,DayCount:1,IsShowCorssCursorInfo:!0,IsShowRightMenu:!0,CorssCursorTouchEnd:!0,Info:["大盘异动"],MinuteInfo:{TextHeight:22,Font:"13px 微软雅黑",PointColor:"rgb(96,125,139)",LineColor:"rgb(96,125,139)"},MinuteLine:{IsDrawAreaPrice:!0},Border:{Left:1,Right:1,Top:20,Bottom:20},Frame:[{SplitCount:3,StringFormat:0},{SplitCount:2,StringFormat:0},{SplitCount:3,StringFormat:0}],ExtendChart:[{Name:"MinuteTooltip"}],NetworkFilter:this.networkFilter}}}},watch:{wsChartData:function(t,i){this.onRecvWSRealtimeData(t)}},mounted:function(){this.accURL=Object(r["a"])().accURL;var t=this.$store.state.d2admin.symbol.symbol;if(this.originSymbol=t,t){var i=new s["b"](t).distinguish();this.Symbol=i.symbol,this.Minute.Option.Symbol=i.symbol,this.type=i.type,this.CreateMinuteChart()}this.Minute.JSChart&&this.OnSize()},methods:{OnSize:function(t,i){var e="",o="";t?(e=i,o=t):(e=this.chartSize.height,o=this.chartSize.width);var a=this.$refs.minute;a.style.width=o+"px",a.style.height=e+"px",this.Minute.JSChart&&this.Minute.JSChart.OnSize()},CreateMinuteChart:function(){this.Minute.JSChart||(this.Minute.Option.Symbol=this.Symbol,this.chart=n.a.Chart.JSChart.Init(this.$refs.minute),this.chart.SetOption(this.Minute.Option),this.Minute.JSChart=this.chart)},networkFilter:function(t,i){"MarketEventInfo::RequestData"===t.Name&&this.dot(t,i),"MinuteChartContainer::RequestMinuteData"===t.Name&&this.requestMinuteData(t,i)},dot:function(t,i){var e=this.dotData.slice(0),o={};for(var a in e)if(e[a].symbol===this.originSymbol){var c=e[a].date+e[a].symbol;if(o.hasOwnProperty(c))o[c]["data"].push(e[a]["data"]);else{var n={date:"",data:[]};n.date=e[a].date,n.flag=e[a].flag,n.data.push(e[a]["data"]),o[c]=n}}var s=[];for(var r in o)s.push(o[r]);if("future"===this.type)for(var l in s){var u=s[l].date;if(!0===s[l].flag&&Number(this.lastDate)!==u){var h=s[l].date.toString().split("");for(var m in h.splice(4,0,"-"),h.splice(7,0,"-"),h=h.join(""),s[l].date=Number(d()(new Date(h).getTime()+864e5).format("YYYYMMDD")),s[l]["data"])s[l]["data"][m]["Date"]=s[l].date;s[l].flag=!1}}var p={event:[]};p.event=s,i(p),t.PreventDefault=!0},requestMinuteData:function(t,i){this.Cache=null,t.PreventDefault=!0,this.recvMinuteData(null,i)},recvMinuteData:function(t,i){var e,o,a,c,n,r;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.$http.post(this.accURL+"/qaaccount/get_1min_realtime_cache",{code:new s["a"](this.originSymbol).distinguish(),market:this.type},{headers:{"Content-Type":"application/json"}}));case 2:if(e=t.sent,500!==e.code){t.next=5;break}return t.abrupt("return");case 5:for(n in o=e.data,a=o.minute.length-1,o.price=o.minute[a].price,o.name=o.symbol+"-1min",o.symbol.includes(".")||(o.symbol=new s["b"](o.symbol).distinguish().symbol),c=o.minute,o.date=this.dealDate(o.date,"YYMMDD"),o.time=this.dealDate(o.time,"HHMMSS"),c)c[n]["time"]=this.dealDate(c[n]["time"],"HHMM"),c[n]["avprice"]=this.price;r={code:0,stock:[o]},this.Cache=o,this.lastDate=o.date,i(r);case 18:case"end":return t.stop()}}),null,this)},onRecvWSRealtimeData:function(t){if(this.originSymbol.toUpperCase()===t.code&&this.Cache&&this.Cache.minute){var i=JSON.parse(JSON.stringify(this.Cache.minute[0])),e=Object.assign(i,t);if(e["time"]=this.dealDate(e["datetime"],"HHMM"),e["price"]=e["close"],e["avprice"]=this.price,this.Cache.minute.length>0){var o=this.Cache.minute[this.Cache.minute.length-1];o.time===e.time?this.Cache.minute[this.Cache.minute.length-1]=e:this.Cache.minute.push(e)}else this.Cache.minute.push(e);var a=this.Cache.minute.length-1;this.Cache.price=this.Cache.minute[a];var c={code:0,stock:[this.Cache]};this.Minute.JSChart.JSChartContainer.RecvMinuteData(c)}},dealStockData:function(t){t.symbol=new s["b"](t.symbol).distinguish().symbol;var i=t.minute;for(var e in t.date=this.dealDate(t.date,"YYMMDD"),i)i[e]["time"]=this.dealDate(i[e]["time"],"HHMM");return t},dealDate:function(t,i){var e=new Date(t),o=e.getFullYear(),a=e.getMonth()+1,c=e.getDate(),n=e.getHours(),s=e.getMinutes(),r=e.getSeconds();return"YYMMDD"===i?(a=a>=10?a:"0"+a,c=c>=10?c:"0"+c,Number(""+o+a+c)):"HHMM"===i?(s=s>=10?s:"0"+s,Number(""+n+s)):"HHMMSS"===i?(n=n>=10?n:"0"+n,s=s>=10?s:"0"+s,r=r>=10?r:"0"+r,Number(""+n+s+r)):"YY-MM-DD"===i?(a=a>=10?a:"0"+a,c=c>=10?c:"0"+c,"".concat(o,"-").concat(a,"-").concat(c)):void 0},dealSendTime:function(){var t=this.$store.state.d2admin.symbol.time;t||(t=[new Date,new Date]);var i=this.dealDate(t[0],"YY-MM-DD"),e=this.dealDate(t[1],"YY-MM-DD");this.startTime=i+" 08:30:00",this.endTime=e+" 15:30:00"}}},h=u,m=e("2877"),p=Object(m["a"])(h,o,a,!1,null,null,null);i["default"]=p.exports},c83f:function(t,i,e){"use strict";var o=e("d1ce"),a=e.n(o);a.a},d1ce:function(t,i,e){},eae9:function(t,i,e){var o=e("d039");t.exports=function(t){return o((function(){var i=""[t]('"');return i!==i.toLowerCase()||i.split('"').length>3}))}},fd6b:function(t,i,e){}}]);