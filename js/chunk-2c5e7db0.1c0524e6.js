(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c5e7db0"],{"0b66":function(t,e,a){"use strict";var n=a("6880"),i=a.n(n);i.a},1247:function(t,e,a){},6880:function(t,e,a){},ada9:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart"},[a("div",{staticClass:"kline-nav"},[a("div",{staticClass:"left"},[a("ul",t._l(t.KlinePeriod,(function(e,n){return a("li",{key:n,class:t.curli===n?"active":"",on:{click:function(a){return t.changeKlinePeriod(e.value)}}},[t._v(t._s(e.name))])})),0)]),a("div",{staticClass:"right"},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[t._v(" 工具 "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"0"}},[t._v("禁止拖拽")]),a("el-dropdown-item",{attrs:{command:"1"}},[t._v("数据拖拽")]),a("el-dropdown-item",{attrs:{command:"2"}},[t._v("区间选择")]),a("el-dropdown-item",{attrs:{command:"4"}},[t._v("画图工具")])],1)],1)],1)]),a("div",{ref:"kline",attrs:{id:"kline"}}),t.DrawToolIsShow?a("div",{staticClass:"brushTool"},[a("Stockdrawtool",{ref:"drawToll",attrs:{topheight:t.topheight,totalheight:t.totalheight},on:{CurrentIcon:t.CurrentIcon,IsShowBrushTool:t.isShowBrushTool}})],1):t._e()])},i=[],o=(a("a9e3"),a("7510")),r=a.n(o),l=(a("9f63"),a("1247"),a("ee61")),s={props:["klineSize"],data:function(){return{DrawToolIsShow:!1,topheight:0,totalheight:0,curli:0,KlinePeriod:[{name:"日线",value:0},{name:"周线",value:1},{name:"月线",value:2},{name:"年线",value:3},{name:"1分钟",value:4},{name:"5分钟",value:5},{name:"15分钟",value:6},{name:"30分钟",value:7},{name:"60分钟",value:8}],Symbol:"600000.sh",KLine:{JSChart:null,Option:{Type:"历史K线图",Windows:[{Index:"多线段指标",API:{Name:"多线段指标",Script:null,Args:null}},{Index:"VOL",Modify:!1,Change:!1}],IsShowRightMenu:!0,IsShowCorssCursorInfo:!0,Border:{Left:1,Right:1,Top:25,Bottom:25},Period:1,KLine:{DragMode:1,Right:1,Period:0,MaxReqeustDataCount:1e3,MaxRequestMinuteDayCount:15,PageSize:50,IsShowTooltip:!0},NetworkFilter:this.networkFilter}}}},components:{Stockdrawtool:l["default"]},created:function(){},mounted:function(){this.OnSize(),this.CreateKLineChart()},methods:{OnSize:function(t,e){var a="",n="";t?(n=e,a=t):(n=this.klineSize.height,a=this.klineSize.width);var i=this.$refs.kline;i.style.width=a+"px",i.style.height=n+"px",this.KLine.JSChart&&this.KLine.JSChart.OnSize()},CreateKLineChart:function(){if(!this.KLine.JSChart){this.KLine.Option.Symbol=this.Symbol;var t=r.a.Chart.JSChart.Init(this.$refs.kline);t.SetOption(this.KLine.Option),this.KLine.JSChart=t}},networkFilter:function(t,e){if("APIScriptIndex::ExecuteScript"===t.Name){var a=t.Request;if("多线段指标"===a.Data.indexname){var n=t.HQChart,i=n.ChartPaint[0].Data,o={name:"指标连线",type:0,data:i.GetClose()},r={name:"MULTI_LINE",type:1,Draw:{DrawType:"MULTI_LINE",DrawData:[]}},l={name:"MULTI_SVGICON",type:1,Draw:{DrawType:"MULTI_SVGICON",DrawData:{Family:"qa",Icon:[]}}},s=[[{Date:20080818,Value:21},{Date:20080904,Value:21}]],h=[];for(var u in s){var c={Color:"rgb(255,0,0)",BGColor:"rgba(255,0,0,1)",Point:s[u]};r.Draw.DrawData.push(c),h.push({Date:s[u][0].Date,Value:s[u][0].Value,Symbol:"",Color:"rgb(240,0,0)",Baseline:0},{Date:s[u][1].Date,Value:s[u][1].Value,Symbol:"",Color:"rgb(0,255,0)",Baseline:0})}l.Draw.DrawData.Icon=h;var d={code:0,stock:{name:n.Name,symbol:n.Symbol},outdata:{date:i.GetDate(),outvar:[o,r,l]}};t.PreventDefault=!0,e(d)}}},CurrentIcon:function(t){var e=this;console.dir(this.KLine.JSChart.JSChartContainer),console.dir(this.KLine.JSChart.JSChartContainer.CreateChartDrawPicture),this.KLine.JSChart.JSChartContainer.CreateChartDrawPicture(t,(function(t){e.OnFinishDraw(t)})),"全部删除"===t&&this.KLine.JSChart.JSChartContainer.ClearChartDrawPicture()},isShowBrushTool:function(t){this.DrawToolIsShow=t},handleCommand:function(t){"4"===t?this.DrawToolIsShow=!this.DrawToolIsShow:this.KLine.JSChart.JSChartContainer.DragMode=Number(t)},changeKlinePeriod:function(t){this.curli=t,this.KLine.JSChart.ChangePeriod(t)}}},h=s,u=(a("0b66"),a("d3d6"),a("2877")),c=Object(u["a"])(h,n,i,!1,null,"55c7f4cc",null);e["default"]=c.exports},d3d6:function(t,e,a){"use strict";var n=a("e467"),i=a.n(n);i.a},e467:function(t,e,a){}}]);