(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05e5a600"],{"0084":function(t,e,a){"use strict";function n(){var t=JSON.parse(localStorage.getItem("URL")),e="192.168.2.149",a="quantaxis.tech",n="192.168.2.117",r="192.168.2.124",i="quantaxis.tech",s=t&&t.accURL?t.accURL:"http://".concat(e,":10115"),c=t&&t.pnlURL?t.pnlURL:"http://".concat(e,":8028"),o=t&&t.listURL?t.listURL:"http://".concat(n,":8020"),f=t&&t.wsURL?t.wsURL:"ws://".concat(e,":10115/ws/"),l=t&&t.selectedURL?t.selectedURL:"http://".concat(a,":8022"),u=t&&t.indicatorURL?t.indicatorURL:"http://".concat(e,":8030"),h=t&&t.backtestURL?t.backtestURL:"http://192.168.2.117:8010",d=t&&t.innerURL?t.innerURL:"http://".concat(r,":8028"),p=t&&t.financialURL?t.financialURL:"http://".concat(i,":8018"),m=t&&t.groupURL?t.groupURL:"http://".concat(i,":8018"),L=t&&t.orderURL?t.orderURL:"http://".concat(i,":8018"),R=t&&t.klineURL?t.klineURL:"http://".concat(e,":8029"),b=t&&t.cashURL?t.cashURL:"http://".concat(i,":8020"),U=t&&t.backtestqifiURL?t.backtestqifiURL:"http://".concat(r,":8019"),g=t&&t.varietiesURL?t.varietiesURL:"http://".concat(i,":8018"),y=t&&t.strategyURL?t.strategyURL:"http://192.168.2.125:8800";return{accURL:s,pnlURL:c,listURL:o,wsURL:f,selectedURL:l,indicatorURL:u,backtestURL:h,innerURL:d,financialURL:p,groupURL:m,orderURL:L,klineURL:R,cashURL:b,backtestqifiURL:U,varietiesURL:g,strategyURL:y}}a.d(e,"a",(function(){return n}))},"07ac":function(t,e,a){var n=a("23e7"),r=a("6f53").values;n({target:"Object",stat:!0},{values:function(t){return r(t)}})},1233:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("d2-container",{attrs:{type:"full"}},[a("div",{staticClass:"strategy-status"},[a("el-button",{staticClass:"switch",attrs:{type:"danger",icon:"el-icon-refresh",circle:""},on:{click:t.switchType}}),a("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"status-chart"}})],1)])},r=[],i=(a("99af"),a("caad"),a("b0c0"),a("d3b7"),a("07ac"),a("2532"),a("ddb0"),a("96cf"),a("0084")),s=a("6e85"),c=a.n(s),o={name:"status",data:function(){return{URL:"http://192.168.2.121:8800",myChart:null,type:"code",timer:null,colorList:["#ff7f50","#87cefa","#da70d6","#32cd32","#6495ed","#ff69b4","#ba55d3","#cd5c5c","#ffa500","#40e0d0","#1e90ff","#ff6347","#7b68ee","#00fa9a","#ffd700","#6b8e23","#ff00ff","#3cb371","#b8860b","#30e0e0","#929fff","#9de0ff","#ffa897","#af87fe","#7dc3fe","#bb60b2","#433e7c","#f47a75","#009db2","#024b51","#0780cf","#765005","#e75840","#26ccd8","#3685fe","#9977ef","#f5616f","#f7b13f","#f9e264","#50c48f","#e91e63","#f06292","#18ffff","#e65100","#ffeb3b"],option:{title:{show:!0,text:"策略状态",x:"center",y:"bottom",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#000"},subtextStyle:{color:"#aaa"}},backgroundColor:"#fff",animationDurationUpdate:function(t){return 100*t},animationEasingUpdate:"bounceIn",color:["#fff","#fff","#fff"],series:[{type:"graph",layout:"force",force:{repulsion:200,edgeLength:50},roam:!0,label:{normal:{show:!0}},data:[]}],tooltip:{trigger:"item",formatter:function(t,e,a){var n=t.data;n.value=0===n.value?c()().format("YYYY-MM-DD HH:mm:ss"):c()(n.value).format("YYYY-MM-DD HH:mm:ss");var r="\n              <div>\n                ".concat(t.marker,"\n                <span>").concat(n.name," : ").concat(n.value,"</span>\n              </div>\n            ");return r}}}}},mounted:function(){this.URL=Object(i["a"])().strategyURL,this.myChart=this.$echarts.init(document.getElementById("status-chart")),this.myChart.showLoading(),this.initChart(),this.getStatus(),this.getTypeData(),this.statusTimer()},beforeDestroy:function(){clearInterval(this.timer)},methods:{statusTimer:function(){var t=this;this.timer=setInterval((function(){t.getStatus()}),3e4)},switchType:function(){this.type="stg"===this.type?"code":"stg",this.initChart(),this.getStatus()},getTypeData:function(){var t=this;this.myChart.on("click",(function(e){var a;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.name.includes("_")){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,regeneratorRuntime.awrap(t.$http.get(t.URL+"/get_account",{params:{key:e.name}}));case 4:a=n.sent,t.dealItemStyle(a),setTimeout((function(){t.getStatus("name")}),100);case 7:case"end":return n.stop()}}))}))},initChart:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.$http.get(this.URL+"/all_account",{params:{which:this.type}}));case 2:t=e.sent,this.dealItemStyle(t);case 4:case"end":return e.stop()}}),null,this)},getStatus:function(t){var e,a,n,r,i,s,c;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return e=t||this.type,o.next=3,regeneratorRuntime.awrap(this.$http.get(this.URL+"/hb"));case 3:if(a=o.sent,n=JSON.parse(JSON.stringify(this.data)),"ALLDIE"!==a[0]["name"]){o.next=9;break}for(r in n)n[r]["itemStyle"]["normal"]["shadowBlur"]=50,n[r]["itemStyle"]["normal"]["color"]="#ff1744",n[r]["itemStyle"]["normal"]["shadowColor"]="red",n[r]["symbolSize"]=80;o.next=22;break;case 9:o.t0=regeneratorRuntime.keys(a);case 10:if((o.t1=o.t0()).done){o.next=22;break}if(i=o.t1.value,n[a[i][e]]){o.next=14;break}return o.abrupt("continue",10);case 14:s=n[a[i][e]],s["value"]=a[i]["value"],s["itemStyle"]["normal"]["shadowBlur"]=50,s["itemStyle"]["normal"]["color"]="#ff1744",s["itemStyle"]["normal"]["shadowColor"]="red",s["symbolSize"]=80,o.next=10;break;case 22:c=Object.values(n),this.option.series[0].data=c,this.myChart.setOption(this.option);case 25:case"end":return o.stop()}}),null,this)},dealItemStyle:function(t){for(var e in t){var a=Math.floor(Math.random()*(this.colorList.length-1));t[e]["draggable"]=!0,t[e]["symbolSize"]=60,t[e]["itemStyle"]={normal:{shadowBlur:0,shadowColor:this.colorList[a],color:this.colorList[a]}}}var n={};for(var r in t)n[t[r]["name"]]=t[r];this.data=n,this.option.series[0].data=t,this.myChart.setOption(this.option),this.myChart.hideLoading()}}},f=o,l=(a("25fa"),a("2877")),u=Object(l["a"])(f,n,r,!1,null,"ab020942",null);e["default"]=u.exports},"25fa":function(t,e,a){"use strict";var n=a("54dc"),r=a.n(n);r.a},"54dc":function(t,e,a){},"6f53":function(t,e,a){var n=a("83ab"),r=a("df75"),i=a("fc6a"),s=a("d1e7").f,c=function(t){return function(e){var a,c=i(e),o=r(c),f=o.length,l=0,u=[];while(f>l)a=o[l++],n&&!s.call(c,a)||u.push(t?[a,c[a]]:c[a]);return u}};t.exports={entries:c(!0),values:c(!1)}}}]);