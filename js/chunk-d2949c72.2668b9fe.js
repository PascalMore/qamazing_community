(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d2949c72"],{"5ce5":function(t,e,a){},"83d4":function(t,e,a){"use strict";var r=a("5ce5"),s=a.n(r);s.a},e109:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("d2-container",{attrs:{type:"full"}},[t.flag?a("div",{staticClass:"qaflow"},[a("div",{staticClass:"selection-group card"},[a("el-form",{attrs:{"label-width":"45px"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:t.strategyValue,callback:function(e){t.strategyValue=e},expression:"strategyValue"}},t._l(t.strategyOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.operation("strategy",t.strategyText)}}},[t._v(t._s(t.strategyText))])],1),a("el-form-item",{attrs:{label:"品种"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:t.codeValue,callback:function(e){t.codeValue=e},expression:"codeValue"}},t._l(t.codeOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.operation("code",t.codeText)}}},[t._v(t._s(t.codeText))])],1),a("el-form-item",{attrs:{label:"频率"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:t.freqValue,callback:function(e){t.freqValue=e},expression:"freqValue"}},t._l(t.freqOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.operation("freq",t.freqText)}}},[t._v(t._s(t.freqText))])],1),a("el-form-item",[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"success"},on:{click:t.batchSubmit}},[t._v("提交")]),a("el-button",{staticStyle:{width:"100%"},attrs:{type:"danger"},on:{click:t.navigate}},[t._v("查看")])],1)],1)],1),a("div",{staticClass:"formGroup"},[a("el-tabs",{staticClass:"tabs",attrs:{type:"border-card"}},t._l(t.strategyList,(function(e,r){return a("el-tab-pane",{key:r,attrs:{label:e}},[a("div",{staticClass:"form"},[a("el-form",{attrs:{model:t.strategyForm[e].form,"label-width":"100px"}},t._l(t.strategyForm[e].form,(function(r,s,i){return a("el-form-item",{key:i,attrs:{label:s}},[a("el-input",{attrs:{placeholder:t.strategyForm[e]["placeholderForm"][s]},model:{value:t.strategyForm[e]["form"][s],callback:function(a){t.$set(t.strategyForm[e]["form"],s,a)},expression:"strategyForm[item]['form'][key]"}})],1)})),1)],1)])})),1)],1)]):t._e()])},s=[],i=(a("b64b"),a("d3b7"),a("96cf"),{data:function(){return{flag:!1,strategyText:"全选",codeText:"全选",freqText:"全选",codeValue:[],codeList:[],codeOptions:[],strategyForm:{},strategyList:[],strategyValue:[],strategyOptions:[],freqValue:[],freqList:[],freqOptions:[],form:{},placeholderForm:{}}},mounted:function(){this.getStrategyData()},methods:{operation:function(t,e){"全选"!==e?"清空"===e&&("strategy"===t?(this.strategyValue=[],this.strategyText="全选"):"code"===t?(this.codeValue=[],this.codeText="全选"):"freq"===t&&(this.freqValue=[],this.freqText="全选")):"strategy"===t?(this.strategyValue=this.strategyList,this.strategyText="清空"):"code"===t?(this.codeValue=this.codeList,this.codeText="清空"):"freq"===t&&(this.freqValue=this.freqList,this.freqText="清空")},getAllParams:function(){var t=this;for(var e in this.strategyList)(function(e){t.getParamsData(t.strategyList[e])})(e)},getStrategyData:function(){var t,e,a,r,s,i,l;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(this.$http.get("http://192.168.2.125:7749/strategy_list"));case 2:for(e in t=n.sent,console.log(t),this.strategyOptions=[],t.data.list)a={},a.value=t.data.list[e],a.label=t.data.list[e],this.strategyOptions.push(a);for(r in this.strategyList=t.data.list,this.strategyValue=[this.strategyOptions[0].value],this.codeOptions=[],t.data.code)s={},s.value=t.data.code[r],s.label=t.data.code[r],this.codeOptions.push(s);for(i in this.codeList=t.data.code,this.codeValue=[this.codeOptions[0].value],this.freqOptions=[],t.data.freq)l={},l.value=t.data.freq[i],l.label=t.data.freq[i],this.freqOptions.push(l);this.freqList=t.data.freq,this.freqValue=[this.freqOptions[0].value],this.getAllParams();case 17:case"end":return n.stop()}}),null,this)},getParamsData:function(t){var e,a,r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(this.$http.get("http://192.168.2.125:7749/param_list/"+t));case 2:e=s.sent,a=e.data,r={form:a.default,placeholderForm:a.define},this.$set(this.strategyForm,t,r),Object.keys(this.strategyForm).length===this.strategyList.length&&(this.flag=!0);case 7:case"end":return s.stop()}}),null,this)},batchSubmit:function(){var t=[];for(var e in this.strategyValue){var a={};a[this.strategyValue[e]]=JSON.stringify(this.strategyForm[this.strategyValue[e]].form),t.push(a)}this.submit(t,this.codeValue,this.freqValue)},submit:function(t,e,a){var r,s;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:if(0!==t.length&&0!==e.length&&0!==a.length){i.next=2;break}return i.abrupt("return",this.$notify({title:"失败",message:"必填项内容不能为空",type:"error"}));case 2:return r={name:t,code:e,freq:a},console.log(r),i.next=6,regeneratorRuntime.awrap(this.$http.post("http://192.168.2.125:7749/job",JSON.stringify(r)));case 6:s=i.sent,200===s.code&&this.$notify({title:"成功",message:"提交成功",type:"success"});case 8:case"end":return i.stop()}}),null,this)},navigate:function(){window.open("http://192.168.2.125:8864")}}}),l=i,n=(a("83d4"),a("2877")),o=Object(n["a"])(l,r,s,!1,null,null,null);e["default"]=o.exports}}]);